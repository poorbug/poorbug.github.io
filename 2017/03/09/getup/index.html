<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>React åšå®¢å·¥ç¨‹ ä¸Šçº¿ | Poorbug</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="bg è®¸ä¹…ä¹‹å‰ç”¨ react-redux-starter-kit åšäº†ä¸€ä¸ªé™æ€çš„åšå®¢å·¥ç¨‹ï¼Œåä¸º Blog è®¸ä¹…ä¹‹å‰ä¹°äº†ä¸€ä¸ªé˜¿é‡Œäº‘æœåŠ¡å™¨ è®¸ä¹…ä¹‹å‰ä¹°äº†ä¸¤ä¸ªåŸŸå  Initial state Blog åœ¨æœ¬åœ°å¯æ­£å¸¸å¯åŠ¨ æœåŠ¡å™¨å…¨æ–°çŠ¶æ€ åŸŸåå…¨æ–°çŠ¶æ€æ²¡ç”¨è¿‡ æ²¡æœ‰è‡ªå·±æè¿‡æœåŠ¡å™¨  æœåŠ¡å™¨åˆå§‹è®¾ç½® å®‰è£… Nodeç¬¬ä¸€ä¸ªæƒ³åˆ°çš„å°±æ˜¯ Node ï¼Œä»æ¥æ²¡æœ‰æè¿‡æœåŠ¡å™¨ï¼Œå› æ­¤æˆ‘è¿æ€ä¹ˆè£…éƒ½ä¸çŸ¥é“â€¦  æŸ¥äº†ä¸€ä¸‹å®˜æ–¹æ–‡æ¡£ï¼Œ">
<meta name="keywords" content="React,blog,react-starter-kit">
<meta property="og:type" content="article">
<meta property="og:title" content="React åšå®¢å·¥ç¨‹ ä¸Šçº¿">
<meta property="og:url" content="http://poorbug.cn/2017/03/09/getup/index.html">
<meta property="og:site_name" content="Poorbug">
<meta property="og:description" content="bg è®¸ä¹…ä¹‹å‰ç”¨ react-redux-starter-kit åšäº†ä¸€ä¸ªé™æ€çš„åšå®¢å·¥ç¨‹ï¼Œåä¸º Blog è®¸ä¹…ä¹‹å‰ä¹°äº†ä¸€ä¸ªé˜¿é‡Œäº‘æœåŠ¡å™¨ è®¸ä¹…ä¹‹å‰ä¹°äº†ä¸¤ä¸ªåŸŸå  Initial state Blog åœ¨æœ¬åœ°å¯æ­£å¸¸å¯åŠ¨ æœåŠ¡å™¨å…¨æ–°çŠ¶æ€ åŸŸåå…¨æ–°çŠ¶æ€æ²¡ç”¨è¿‡ æ²¡æœ‰è‡ªå·±æè¿‡æœåŠ¡å™¨  æœåŠ¡å™¨åˆå§‹è®¾ç½® å®‰è£… Nodeç¬¬ä¸€ä¸ªæƒ³åˆ°çš„å°±æ˜¯ Node ï¼Œä»æ¥æ²¡æœ‰æè¿‡æœåŠ¡å™¨ï¼Œå› æ­¤æˆ‘è¿æ€ä¹ˆè£…éƒ½ä¸çŸ¥é“â€¦  æŸ¥äº†ä¸€ä¸‹å®˜æ–¹æ–‡æ¡£ï¼Œ">
<meta property="og:image" content="http://omhr7p9e5.bkt.clouddn.com/blog/welcome.png">
<meta property="og:image" content="http://omhr7p9e5.bkt.clouddn.com/blog/without%20node.png">
<meta property="og:image" content="http://omhr7p9e5.bkt.clouddn.com/blog/curl.png">
<meta property="og:image" content="http://omhr7p9e5.bkt.clouddn.com/blog/ssh.png">
<meta property="og:image" content="http://omhr7p9e5.bkt.clouddn.com/blog/nginx%20default.png">
<meta property="og:updated_time" content="2017-10-09T08:39:23.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="React åšå®¢å·¥ç¨‹ ä¸Šçº¿">
<meta name="twitter:description" content="bg è®¸ä¹…ä¹‹å‰ç”¨ react-redux-starter-kit åšäº†ä¸€ä¸ªé™æ€çš„åšå®¢å·¥ç¨‹ï¼Œåä¸º Blog è®¸ä¹…ä¹‹å‰ä¹°äº†ä¸€ä¸ªé˜¿é‡Œäº‘æœåŠ¡å™¨ è®¸ä¹…ä¹‹å‰ä¹°äº†ä¸¤ä¸ªåŸŸå  Initial state Blog åœ¨æœ¬åœ°å¯æ­£å¸¸å¯åŠ¨ æœåŠ¡å™¨å…¨æ–°çŠ¶æ€ åŸŸåå…¨æ–°çŠ¶æ€æ²¡ç”¨è¿‡ æ²¡æœ‰è‡ªå·±æè¿‡æœåŠ¡å™¨  æœåŠ¡å™¨åˆå§‹è®¾ç½® å®‰è£… Nodeç¬¬ä¸€ä¸ªæƒ³åˆ°çš„å°±æ˜¯ Node ï¼Œä»æ¥æ²¡æœ‰æè¿‡æœåŠ¡å™¨ï¼Œå› æ­¤æˆ‘è¿æ€ä¹ˆè£…éƒ½ä¸çŸ¥é“â€¦  æŸ¥äº†ä¸€ä¸‹å®˜æ–¹æ–‡æ¡£ï¼Œ">
<meta name="twitter:image" content="http://omhr7p9e5.bkt.clouddn.com/blog/welcome.png">
  
  
    <link rel="icon" href="/js/favicon/1.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

  <script src="https://cdn.wilddog.com/sdk/js/2.5.8/wilddog-sync.js"></script>
  <script>
    wilddog.initializeApp({ syncURL: '//poorbug.wilddogio.com' })
  </script>
  <link rel="preload" href="//omhr7p9e5.bkt.clouddn.com/blog/Orbitron-Black.ttf" as="font" type="font/ttf" crossorigin="anonymous">
  <link rel="preload" href="//omhr7p9e5.bkt.clouddn.com/blog/bg.png" as="image">
  <link rel="preload" href="//omhr7p9e5.bkt.clouddn.com/hexo-blog/fontawesome-webfont.woff?v=" as="font" type="font/woff" crossorigin="anonymous">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header" onmousemove="headerMove(event)" onmouseout="clearMouseMove()">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Poorbug</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">ğŸš² é»„æ˜è™½å¥½ï¼Œæœªæ•¢åœç•™ã€‚</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://poorbug.cn"></form>
      </div>
    </div>
  </div>

  <script>
    var header = document.getElementById('header')
    var midX = Math.floor(header.offsetWidth / 2)
    var midY = Math.floor(header.offsetHeight / 2)
    var logo = document.getElementById('logo')
    var subtitle = document.getElementById('subtitle')
    function headerMove(e) {
      var movX = (midX - e.clientX) * .75
      var movY = (midY - e.clientY) * .75
      var movRate = Math.abs(movX / midX)
      var blur = movRate * 20

      logo.style.textShadow = movX + 'px ' + movY + 'px ' + blur + 'px rgba(255, 255, 255, ' + (1 - movRate) + ')'
      subtitle.style.textShadow = movX + 'px ' + movY + 'px ' + blur + 'px rgba(255, 255, 255, ' + (1 - movRate) + ')'
    }

    function clearMouseMove() {
      logo.style.textShadow = '0 0 0 white'
      subtitle.style.textShadow = '0 0 0 white'
    }
  
  </script>

</header>
      <div class="outer">
        <section id="main">
          <article id="post-getup" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/09/getup/" class="article-date">
  <time datetime="2017-03-08T16:00:00.000Z" itemprop="datePublished">2017-03-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      React åšå®¢å·¥ç¨‹ ä¸Šçº¿
    </h1>
  

      </header>
    

    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="bg"><a href="#bg" class="headerlink" title="bg"></a>bg</h2><ul>
<li>è®¸ä¹…ä¹‹å‰ç”¨ <a href="https://github.com/poorbug/react-redux-starter-kit" target="_blank" rel="external">react-redux-starter-kit</a> åšäº†ä¸€ä¸ªé™æ€çš„åšå®¢å·¥ç¨‹ï¼Œåä¸º Blog</li>
<li>è®¸ä¹…ä¹‹å‰ä¹°äº†ä¸€ä¸ªé˜¿é‡Œäº‘æœåŠ¡å™¨</li>
<li>è®¸ä¹…ä¹‹å‰ä¹°äº†ä¸¤ä¸ªåŸŸå</li>
</ul>
<h2 id="Initial-state"><a href="#Initial-state" class="headerlink" title="Initial state"></a>Initial state</h2><ul>
<li>Blog åœ¨æœ¬åœ°å¯æ­£å¸¸å¯åŠ¨</li>
<li>æœåŠ¡å™¨å…¨æ–°çŠ¶æ€</li>
<li>åŸŸåå…¨æ–°çŠ¶æ€æ²¡ç”¨è¿‡</li>
<li>æ²¡æœ‰è‡ªå·±æè¿‡æœåŠ¡å™¨</li>
</ul>
<h2 id="æœåŠ¡å™¨åˆå§‹è®¾ç½®"><a href="#æœåŠ¡å™¨åˆå§‹è®¾ç½®" class="headerlink" title="æœåŠ¡å™¨åˆå§‹è®¾ç½®"></a>æœåŠ¡å™¨åˆå§‹è®¾ç½®</h2><p><img src="http://omhr7p9e5.bkt.clouddn.com/blog/welcome.png" alt="welcome"></p>
<h3 id="å®‰è£…-Node"><a href="#å®‰è£…-Node" class="headerlink" title="å®‰è£… Node"></a>å®‰è£… Node</h3><p>ç¬¬ä¸€ä¸ªæƒ³åˆ°çš„å°±æ˜¯ Node ï¼Œä»æ¥æ²¡æœ‰æè¿‡æœåŠ¡å™¨ï¼Œå› æ­¤æˆ‘è¿æ€ä¹ˆè£…éƒ½ä¸çŸ¥é“â€¦</p>
<p><img src="http://omhr7p9e5.bkt.clouddn.com/blog/without%20node.png" alt="without Node"></p>
<p>æŸ¥äº†ä¸€ä¸‹å®˜æ–¹æ–‡æ¡£ï¼Œå’Œ Google ç»“æœï¼Œæ®è¯´ <a href="http://baike.baidu.com/item/apt-get" target="_blank" rel="external">apt-get</a> ï¼ˆæˆ‘ä¹Ÿæ˜¯ç¬¬ä¸€å›çŸ¥é“ apt-get è¿™ä¸ªä¸œè¥¿ï¼‰ä¼šå®‰è£…ä¸€ä¸ªéå¸¸è€çš„ç‰ˆæœ¬ï¼Œä¾‹å¦‚ 2.x ä¹‹ç±»çš„ï¼›6.x ä¸ 7.x çš„å®‰è£…æ–¹æ³•åˆä¸ä¸€æ ·ï¼Œäºæ˜¯å‘è¿ç»´åŒå­¦è¯·æ•™å¾—çŸ¥ä»¥ä¸‹å‘½ä»¤ï¼ˆæœ‰äººæŒ‡ç‚¹æœç„¶çœäº‹è®¸å¤šï¼‰ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">## éƒ½åœ¨ root ç”¨æˆ·ä¸‹æ‰§è¡Œ</span></div><div class="line"></div><div class="line">apt-get update</div><div class="line"></div><div class="line">apt-get install python-software-properties -y</div><div class="line"></div><div class="line">curl -sL https://deb.nodesource.com/setup_7.x | sudo -E bash -</div><div class="line"></div><div class="line">apt-get install nodejs -y  <span class="comment"># è¿™æ­¥æ—¶é—´æ¯”è¾ƒä¹…ï¼Œå› ä¸ºæ˜¯åœ¨</span></div><div class="line"></div><div class="line">node -v   <span class="comment"># æŸ¥çœ‹ä¸€ä¸‹ç‰ˆæœ¬ï¼Œç„¶åå¯ä»¥å®‰è£…ä¸ª nvm å»åˆ‡æ¢ç‰ˆæœ¬</span></div><div class="line"></div><div class="line">---</div><div class="line">ä¸Šé¢é‚£ä¸ªæ˜¯ å®‰è£… 7.7.1 çš„ nodeï¼Œ æ¯”è¾ƒæ–°ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ apt-get install nodejs ï¼Œ è¿™æ ·è£…çš„è¯ï¼Œç‰ˆæœ¬æ¯”è¾ƒæ—§</div></pre></td></tr></table></figure></p>
<p>åˆ° curl åˆå¡ä½ï¼Œcurl æ˜¯ä»€ä¹ˆä¸œè¥¿â€¦</p>
<h3 id="å®‰è£…-curl"><a href="#å®‰è£…-curl" class="headerlink" title="å®‰è£… curl"></a>å®‰è£… <a href="https://curl.haxx.se/" target="_blank" rel="external">curl</a></h3><p><img src="http://omhr7p9e5.bkt.clouddn.com/blog/curl.png" alt="curl"></p>
<blockquote>
<p>command line tool and library<br>for transferring data with URLs</p>
</blockquote>
<p>æ ¹æ®æ§åˆ¶å°æç¤º <code>apt-get install curl</code> , done.<br>ç„¶åç»§ç»­å®‰è£… Node , done.</p>
<h3 id="å®‰è£…-Git"><a href="#å®‰è£…-Git" class="headerlink" title="å®‰è£… Git"></a>å®‰è£… Git</h3><p><code>apt-get git</code><br>ä½†æ˜¯åšå®¢å·¥ç¨‹æ˜¯ä¸€ä¸ªç§æœ‰å·¥ç¨‹ï¼Œéœ€è¦ç»™é…ç§˜é’¥ï¼Œä»¥å‰åœ¨å¼€å‘ <a href="http://www.wandoujia.com/apps/com.frimap" target="_blank" rel="external">Frimap</a> çš„æ—¶å€™ç»™é…è¿‡ï¼Œä½†æ˜¯æ—©å·²å¿˜è®°äº†ï¼Œäºæ˜¯ <a href="https://docs.gitlab.com/ce/ssh/README.html" target="_blank" rel="external">Google</a> ä¹‹ã€‚</p>
<blockquote>
<p><code>ssh-keygen -t rsa -C &quot;your.email@example.com&quot; -b 4096</code></p>
</blockquote>
<p><img src="http://omhr7p9e5.bkt.clouddn.com/blog/ssh.png" alt="~/.ssh/id_rsa.pub"><br>å¾—åˆ°ä¸€ä¸² ssh-rsa å¼€å¤´çš„é•¿ä¸²ï¼Œç²˜åˆ° Git å·¥ç¨‹ä¸­çš„ Deploy keys ä¸­ï¼›åœ¨æœåŠ¡å™¨ç›®å½•ä¸‹ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">clone</span> xxxxxxxxxxxxx</div><div class="line"></div><div class="line">git pull</div></pre></td></tr></table></figure></p>
<p>å·¥ç¨‹å³å¯å¾—ã€‚</p>
<h3 id="å®‰è£…-cnpm"><a href="#å®‰è£…-cnpm" class="headerlink" title="å®‰è£… cnpm"></a>å®‰è£… <a href="https://npm.taobao.org/" target="_blank" rel="external">cnpm</a></h3><p>è¯•ç€ <code>npm install</code> ä¸€ä¸‹ï¼Œå‘ç°æ²¡æœ‰æ¢¯å­æœç„¶å¾ˆæ…¢ï¼Œç”šè‡³æ ¹æœ¬ install ä¸äº†â€¦<br>cnpm æ—©æœ‰è€³é—»ï¼Œä¸€ç›´æœ‰æ¢¯ï¼Œä»æœªç”¨è¿‡ã€‚æœåŠ¡å™¨æ­æ¢¯å­æœ‰ç‚¹è´¹åŠ²ï¼Œç”¨ cnpm è¿˜æ˜¯æ¯”è¾ƒçœäº‹å„¿çš„ã€‚</p>
<blockquote>
<p><code>npm install -g cnpm --registry=https://registry.npm.taobao.org   # å®‰è£…cnpm</code></p>
</blockquote>
<p>åˆ™ï¼Œå¯ <code>cnpm install</code><br>ç„¶åï¼Œ<code>npm start</code> å·¥ç¨‹æˆåŠŸå¯åŠ¨ã€‚</p>
<h3 id="å®‰è£…-NGINX"><a href="#å®‰è£…-NGINX" class="headerlink" title="å®‰è£… NGINX"></a>å®‰è£… <a href="https://nginx.org/en/" target="_blank" rel="external">NGINX</a></h3><p>ä¹‹å‰æå…¬å¸å‰ç«¯æµ‹è¯•æœåŠ¡å™¨çš„æ—¶å€™æ›¾ç»æè¿‡ä¸€ç‚¹ NGINX ç›¸å…³çš„é…ç½®ï¼Œä½†æ˜¯åªæ˜¯å¾ˆçš®æ¯›çš„ä¸œè¥¿ï¼Œæ— éæ˜¯å†™ä¸€äº›è·¯ç”±é…ç½®ã€‚<br><a href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-14-04-lts" target="_blank" rel="external">Google: nginx ubuntu çš„ç¬¬ä¸€ä¸ªç»“æœ</a>ï¼š</p>
<blockquote>
<p><code>sudo apt-get install nginx</code></p>
</blockquote>
<p>NGINX, done.</p>
<h3 id="åŸŸåè§£æ"><a href="#åŸŸåè§£æ" class="headerlink" title="åŸŸåè§£æ"></a>åŸŸåè§£æ</h3><p>åœ¨é˜¿é‡Œäº‘çš„æ§åˆ¶å°ä¸­æ‰¾åŸŸåè§£æï¼Œå°†æœåŠ¡å™¨ ip å¡«å…¥å³å¯ã€‚</p>
<h3 id="NGINX-é…ç½®"><a href="#NGINX-é…ç½®" class="headerlink" title="NGINX é…ç½®"></a>NGINX é…ç½®</h3><p><img src="http://omhr7p9e5.bkt.clouddn.com/blog/nginx%20default.png" alt="é…ç½®æ–‡ä»¶è·¯å¾„"><br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="section">server</span> &#123;</div><div class="line">  <span class="attribute">listen</span> <span class="number">80</span>;</div><div class="line">  <span class="attribute">server_name</span> your.domain;</div><div class="line">  <span class="attribute">location</span> / &#123;</div><div class="line">    <span class="attribute">proxy_pass</span>                          http://your ip address:port/;</div><div class="line">    <span class="attribute">proxy_set_header</span> Host               <span class="variable">$host</span>;</div><div class="line">    <span class="attribute">proxy_set_header</span> X-Real-IP          <span class="variable">$remote_addr</span>;</div><div class="line">    <span class="attribute">proxy_set_header</span> X-Forwarded-For    <span class="variable">$proxy_add_x_forwarded_for</span>;</div><div class="line">    <span class="attribute">client_body_buffer_size</span>             <span class="number">128k</span>;</div><div class="line">    <span class="attribute">client_max_body_size</span>                <span class="number">1m</span>;</div><div class="line">    <span class="attribute">proxy_connect_timeout</span>               <span class="number">90</span>;</div><div class="line">    <span class="attribute">proxy_send_timeout</span>                  <span class="number">90</span>;</div><div class="line">    <span class="attribute">proxy_buffer_size</span>                   <span class="number">4k</span>;</div><div class="line">    <span class="attribute">proxy_buffers</span>                       <span class="number">4</span> <span class="number">32k</span>;</div><div class="line">    <span class="attribute">proxy_busy_buffers_size</span>             <span class="number">64k</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>ä¿å­˜ï¼Œå¯åŠ¨ NGINXã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo nginx</div><div class="line"></div><div class="line">sudo nginx -s reload</div></pre></td></tr></table></figure></p>
<h2 id="è®¿é—®"><a href="#è®¿é—®" class="headerlink" title="è®¿é—®"></a>è®¿é—®</h2><p>ç›´åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘è®¤ä¸ºä¸€åˆ‡éƒ½OKäº†ã€‚</p>
<ul>
<li>åŸŸåå·²è§£æ</li>
<li><code>npm start</code> å·²å¯åŠ¨</li>
<li>NGINX å·²é…ç½®å¹¶å¯åŠ¨ <code>sudo nginx</code></li>
</ul>
<p>æµè§ˆå™¨è®¿é—® poorbug.tech ï¼Œèƒ½å¤ŸæˆåŠŸè®¿é—®ã€‚âœŒï¸</p>
<p>è¡¥å……ï¼šè¿è¡Œ <code>npm run deploy:prod</code> å³å¯</p>
<p><del>ä½†æ˜¯ï¼Œå½“æˆ‘æ™šä¸Šè¯•ç€è®¿é—®æ—¶ï¼Œå‘ç°é¡µé¢ 502 äº†ï¼Œç›®æµ‹æ˜¯å·¥ç¨‹æŒ‚äº†ï¼Œä¸Šå»ä¸€çœ‹ç¡®å®æ˜¯ï¼Œäºæ˜¯åˆ°å…¬å¸çš„å·¥ç¨‹ä¸­ç¿»æ‰¾åŒäº‹å†™çš„ä¸Šçº¿è„šæœ¬ï¼Œå‘ç°äº†ä¸€ä¸çº¿ç´¢ã€‚</del></p>
<p><del><code>run(&#39;forever start -c &quot;npm run start-prod&quot; .&#39;)</code></del></p>
<p><del><a href="https://www.npmjs.com/package/forever" target="_blank" rel="external">forever</a> åˆæ˜¯ä»€ä¹ˆé¬¼?</del></p>
<p><del>A simple CLI tool for ensuring that a given script runs continuously (i.e. forever).</del></p>
<p><del><code>$ [sudo] npm install forever -g</code> å¦‚æç¤ºå®‰è£…</del></p>
<p><del>run command <code>forever start -c &quot;npm run start-prod&quot;</code></del></p>
<p><del>æŠ¥é”™ï¼ä¸è§£ï¼ŒGoogle äº†ä¸€ä¸‹ï¼Œå¾—åˆ°æ­¤è§£ <a href="https://github.com/foreverjs/forever/issues/540" target="_blank" rel="external">https://github.com/foreverjs/forever/issues/540</a>ã€‚<br>ç»†çœ‹åå‘ç°åŸæ¥åœ¨åŒäº‹çš„è„šæœ¬ä¸­åé¢æœ‰ä¸€ä¸ª . è¡¨ç¤ºè·¯å¾„ï¼Œè¢«æˆ‘å¿½ç•¥äº†ã€‚äºæ˜¯é‡æ–° run command ï¼Œ done.</del></p>
<p>åæ¥åœ¨ä¸åŒäº‹èŠå¤©ä¸­å¾—çŸ¥ï¼ŒåŸæ¥ <code>forever</code> çš„ä½œç”¨æ˜¯è®©å·¥ç¨‹ä¸€ç›´å¤„äºè¿è¡Œçš„çŠ¶æ€ï¼ŒæœåŠ¡ç«¯æ¸²æŸ“æ‰éœ€è¦ï¼Œå› æ­¤æ­¤å¤„åªè¦ç”Ÿæˆé™æ€æ–‡ä»¶éƒ¨ç½²å°±è¡Œäº†ã€‚</p>
<h2 id="å°¾å£°"><a href="#å°¾å£°" class="headerlink" title="å°¾å£°"></a>å°¾å£°</h2><p>åˆ°æ­¤ï¼ŒBlog å·¥ç¨‹è·‘èµ·æ¥äº†ã€‚æ„Ÿè§‰åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œ<strong>åˆ†è€Œæ²»ä¹‹</strong>çš„æ€æƒ³å¾ˆå¥½çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼ŒæŠŠæ¯ä¸€ä¸ªå·¥å…·éƒ½å®‰è£…é…ç½®è°ƒè¯•å¥½äº†ï¼Œé‚£ä¹ˆå·¥ç¨‹å°±è·‘èµ·æ¥äº†ã€‚<br>å®Œç¾ã€‚</p>

      
    </div>

    <footer class="article-footer">
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/">React</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/blog/">blog</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/react-starter-kit/">react-starter-kit</a></li></ul>

    </footer>
  </div>

  <div class="msgboard">
    <h2>ç•™è¨€æ¿</h2>
      <div class="msgs" id='msgs'></div>
      <div class="mymsg" id='mymsg'>
        <p><input id='mymsg-name' type='text' placeholder='ä½ çš„åå­—' /> è¯´:</p>
        <textarea id='mymsg-msg' placeholder='å†™ä¸‹ä½ çš„ç•™è¨€...'></textarea>
        <button onClick='handleSubmit()'>æäº¤</button>
      </div>
  </div>

  <script>
    var msg = null
    var mycite = null

    function formatTime(date) {
      var paddy = (n, p, c) => {
        var padChar = typeof c !== 'undefined' ? c : '0'
        var pad = new Array(1 + p).join(padChar)
        return (pad + n).slice(-pad.length)
      }

      date = new Date(date)
      var yyyy = date.getFullYear()
      var M = date.getMonth() + 1
      var MM = paddy(M, 2)
      var d = date.getDate()
      var dd = paddy(d, 2)
      var hh = paddy(date.getHours(), 2)
      var mm = paddy(date.getMinutes(), 2)
      var ss = paddy(date.getSeconds(), 2)
      return yyyy+'-'+MM+'-'+dd+' '+hh+':'+mm+':'+ss
    }

    function getCites(cite) {
      if (!cite || !msgs) return []
      const newCite = msgs[cite].cite
      const cites = getCites(newCite, msgs)
      cites.push(msgs[cite])
      return cites
    }

     function renderCites(cites) {
      if (!cites) return ''
      var html = ''
      if (cites.length > 0) html += '<h5 style="color: #333;">å¯¹äº: </h5>'
      for(var i in cites) {
        html += '<blockquote class="cite">' +
                  '<h6>' + cites[i].name + '<span>è¯´</span></h6>' +
                  '<p>' + cites[i].msg + '</p>' +
                '</blockquote>'
      }
      return html
    }

    function setMyCite(i) {
      clearMyCite()
      mycite = i
      var html = ''
      html += '<div>' +
                '<h5>å¼•ç”¨: </h5>' +
                '<blockquote>' +
                  '<h6>' + msgs[i].name + ' è¯´: </h6>' +
                  '<p>' + msgs[i].msg + '</p>' +
                  '<span onClick="clearMyCite()">+</span>' +
                '</blockquote>' +
              '</div>'
      var mymsg = document.getElementById('mymsg')
      mymsg.innerHTML = html + mymsg.innerHTML
    }

    function clearMyCite() {
      if (mycite) {
        mycite = null
        var mymsg = document.getElementById('mymsg')
        mymsg.removeChild(mymsg.firstChild)
      }
    }

    function renderMsg(i, msg) {
      if (!msg) return ''
      var html = '<div class="msg-item" >'
      html += renderCites(getCites(msg.cite))
      html += '<h5>' + msg.name + ' <span>è¯´</span></h5>' +
              '<p>' + msg.msg + '</p>' +
              '<p><time>' + formatTime(msg.time) + '</time><a onClick=\'setMyCite("' + i + '")\'>å¼•ç”¨</a></p>'
      html += '</div>'
      return html
    }

    function handleSubmit() {
      var nameEle = document.getElementById('mymsg-name')
      var name = nameEle.value
      if (!name) {
        alert('è¯·è¾“å…¥åå­—')
        return
      }
      var msgEle = document.getElementById('mymsg-msg')
      var msg = msgEle.value
      if (!msg) {
        alert('è¯·è¾“å…¥ç•™è¨€')
        return
      }

      const ref = wilddog.sync().ref("getup").child('msgs')
      ref.push({
        name: name,
        msg: msg,
        time: new Date().getTime(),
        cite: mycite
      })

      nameEle.value = ''
      msgEle.value = ''
      clearMyCite()
    }

    // get & render all msgs
    wilddog.sync().ref("getup").child('msgs').on('value', snapshot => {
      msgs = snapshot.val()
      if (!msgs || msgs.length === 0) {
        document.getElementById('msgs').innerHTML = '<p style="text-align: center; color: #333">è‰²å³æ˜¯ç©º</p>'
      } else {
        var html = ''
        for(var i in msgs) {
          html += renderMsg(i, msgs[i])
        }
        document.getElementById('msgs').innerHTML = html
      }
    })

  </script>

  
    
<nav id="article-nav">
  
    <a href="/2017/09/14/regex/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          æ­£åˆ™è¡¨è¾¾å¼
        
      </div>
    </a>
  
  
    <a href="/2016/12/06/threejs/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Three.js èµ·æ‰‹å¼</div>
    </a>
  
</nav>

  
</article>

        </section>
      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Poorbug<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>&nbsp;&nbsp;&nbsp;
      Designed by <a href="javascript: alert('æ ¹æœ¬å°±æ²¡æœ‰è®¾è®¡å¸ˆï¼ï¼ï¼')">æ ¹æœ¬å°±æ²¡æœ‰è®¾è®¡å¸ˆ</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//omhr7p9e5.bkt.clouddn.com/hexo-blog/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>